<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>M-Kernel: embedded stdio</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">M-Kernel
   </div>
   <div id="projectbrief">EmbeddedRTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">embedded stdio</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaedf2a68c89a03e22fe51f09a7c72b98e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lib__printf.html#gaedf2a68c89a03e22fe51f09a7c72b98e">WRITE_HANDLER</a> )(void *param, const char *const buf, unsigned int size)</td></tr>
<tr class="memdesc:gaedf2a68c89a03e22fe51f09a7c72b98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">handler for custom <a class="el" href="group__lib__printf.html#ga1daa4cbd90e3c33fb5e65e5e2a460b01">format</a> handler  <a href="#gaedf2a68c89a03e22fe51f09a7c72b98e"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga91e75980e7d28e4f27d7fb56bcf7a8ae"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lib__printf.html#ga91e75980e7d28e4f27d7fb56bcf7a8ae">atou</a> (char *buf, int size)</td></tr>
<tr class="memdesc:ga91e75980e7d28e4f27d7fb56bcf7a8ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">string to unsigned int  <a href="#ga91e75980e7d28e4f27d7fb56bcf7a8ae"></a><br/></td></tr>
<tr class="memitem:ga1daa4cbd90e3c33fb5e65e5e2a460b01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lib__printf.html#ga1daa4cbd90e3c33fb5e65e5e2a460b01">format</a> (<a class="el" href="group__lib__printf.html#gaedf2a68c89a03e22fe51f09a7c72b98e">WRITE_HANDLER</a> write_handler, void *write_param, char *fmt, va_list va)</td></tr>
<tr class="memdesc:ga1daa4cbd90e3c33fb5e65e5e2a460b01"><td class="mdescLeft">&#160;</td><td class="mdescRight">format string, using specific handler  <a href="#ga1daa4cbd90e3c33fb5e65e5e2a460b01"></a><br/></td></tr>
<tr class="memitem:ga28abc837a69aa861f839321a9772d077"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lib__printf.html#ga28abc837a69aa861f839321a9772d077">printf</a> (char *fmt,...)</td></tr>
<tr class="memdesc:ga28abc837a69aa861f839321a9772d077"><td class="mdescLeft">&#160;</td><td class="mdescRight">format string, using dbg_write as handler  <a href="#ga28abc837a69aa861f839321a9772d077"></a><br/></td></tr>
<tr class="memitem:ga53229330215a89c592f745bb5d9825a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lib__printf.html#ga53229330215a89c592f745bb5d9825a8">sprintf</a> (char *str, char *fmt,...)</td></tr>
<tr class="memdesc:ga53229330215a89c592f745bb5d9825a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">format string to <b>str</b>  <a href="#ga53229330215a89c592f745bb5d9825a8"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p>embedded stdio routines contains standart ANSI c printf/sprintf analogue, with only difference that it's required around 1.5k of code, doesn't use dynamic memory allocation and minimize system calls by block processing instead of char.</p>
<p>Please note, that usage of printf/sprintf is required around 32 words of stack memory, not including space for context saving. Recommended value of stack for threads, used printf/sprintf must be minimum 60 words.</p>
<p>Following format of arguments are supported:</p>
<p>%[flags][width][.precision][length]specifier</p>
<p>flags:<br/>
 <b>-</b> Left-justify within the given field width; Right justification is the default (see width sub-specifier).<br/>
 <b>+</b>  Forces to precede the result with a plus or minus sign (+ or -) even for positive numbers. By default, only negative numbers are preceded with a - sign.<br/>
 <b></b>(space) If no sign is going to be written, a blank space is inserted before the value.<br/>
 <b>#</b> Used with o, x or X specifiers the value is preceeded with 0, 0x or 0X respectively for values different than zero.<br/>
 <b>0</b> Left-pads the number with zeroes (0) instead of spaces, where padding is specified (see width sub-specifier).<br/>
</p>
<p>width:<br/>
 <b></b>(number) Minimum number of characters to be printed. If the value to be printed is shorter than this number, the result is padded with blank spaces.<br/>
 The value is not truncated even if the result is larger. <b>*</b> The width is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted.<br/>
</p>
<p>.precision<br/>
 <b></b>.number For integer specifiers (d, i, o, u, x, X): precision specifies the minimum number of digits to be written. If the value to be written is shorter than this number, the result is padded with leading zeros. The value is not truncated even if the result is longer. A precision of 0 means that no character is written for the value 0. For s: this is the maximum number of characters to be printed. By default all characters are printed until the ending null character is encountered. For c type: it has no effect. When no precision is specified, the default is 1. If the period is specified without an explicit value for precision, 0 is assumed.<br/>
 <b></b>.* The precision is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted.<br/>
</p>
<p>length<br/>
 <b>h</b> The argument is interpreted as a short int or unsigned short int (only applies to integer specifiers: i, d, o, u, x and X).<br/>
 <b>l</b> The argument is interpreted as a long int or unsigned long int for integer specifiers (i, d, o, u, x and X)<br/>
</p>
<p>specifier<br/>
 <b>c</b> Character<br/>
 <b>d</b> or <b>i</b> Signed decimal integer<br/>
 <b>o</b> Unsigned octal<br/>
 <b>s</b> String of characters sample<br/>
 <b>u</b> Unsigned decimal integer<br/>
 <b>x</b> Unsigned hexadecimal integer<br/>
 <b>X</b> Unsigned hexadecimal integer (capital letters)<br/>
 <b>%</b> A <b>%</b> followed by another <b>%</b> character will write <b>%</b> to stdout. </p>
<h2>Typedef Documentation</h2>
<a class="anchor" id="gaedf2a68c89a03e22fe51f09a7c72b98e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* WRITE_HANDLER)(void *param, const char *const buf, unsigned int size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handler for custom <a class="el" href="group__lib__printf.html#ga1daa4cbd90e3c33fb5e65e5e2a460b01">format</a> handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param,:</td><td>param to send on callback </td></tr>
    <tr><td class="paramname">buf,:</td><td>data buf </td></tr>
    <tr><td class="paramname">size,:</td><td>data buf size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="ga91e75980e7d28e4f27d7fb56bcf7a8ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long atou </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>string to unsigned int </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf,:</td><td>untruncated string </td></tr>
    <tr><td class="paramname">size,:</td><td>size of buf in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">integer</td><td>result. 0 on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1daa4cbd90e3c33fb5e65e5e2a460b01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void format </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lib__printf.html#gaedf2a68c89a03e22fe51f09a7c72b98e">WRITE_HANDLER</a>&#160;</td>
          <td class="paramname"><em>write_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>write_param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>va</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>format string, using specific handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">write_handler,:</td><td>user-specified handler </td></tr>
    <tr><td class="paramname">write_param,:</td><td>param for handler </td></tr>
    <tr><td class="paramname">fmt,:</td><td>format (see global description) </td></tr>
    <tr><td class="paramname">va,:</td><td>va_list of arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga28abc837a69aa861f839321a9772d077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>format string, using dbg_write as handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmt,:</td><td>format (see global description) </td></tr>
    <tr><td class="paramname">...,:</td><td>list of arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga53229330215a89c592f745bb5d9825a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>format string to <b>str</b> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str,:</td><td>resulting string </td></tr>
    <tr><td class="paramname">fmt,:</td><td>format (see global description) </td></tr>
    <tr><td class="paramname">...,:</td><td>list of arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 12 2012 19:35:12 for M-Kernel by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
